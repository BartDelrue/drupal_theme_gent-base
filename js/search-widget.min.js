!function(a){function b(a){this.selector=a,this.form=null,this.input=null,this.button=null,this.openHandler=null,this.closeHandler=null}function c(a){return a?"addClass":"removeClass"}Drupal.gentBase=Drupal.gentBase||{},Object.defineProperty(Drupal.gentBase,"GENT_BASE_BP_MOBILE",{value:640,writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(Drupal.gentBase,"GENT_BASE_BP_TABLET",{value:960,writable:!1,enumerable:!0,configurable:!0}),a(document).on("input",".search-widget__input",function(){a(this)[c(this.value)]("x")}).on("mousemove",".x",function(b){a(this)[c(this.offsetWidth-18<b.clientX-this.getBoundingClientRect().left)]("onX")}).on("touchstart click",".onX",function(b){b.preventDefault(),a(this).removeClass("x onX").val("").change()}),b.prototype.init=function(){var b=this;this.form=a(this.selector),this.input=a(".search-widget__input",this.selector),this.button=a(".search-widget__submit",this.selector),this.button.removeAttr("disabled").click(function(){b.button.attr("disabled","disabled"),b.form.submit()}),this.openHandler=a(".search-widget__open_handle",this.selector),this.openHandler.click(function(){b.open()}),this.closeHandler=a(".search-widget__close_handle",this.selector),this.closeHandler.click(function(){b.close()})},b.prototype.open=function(){this.form.addClass("is-open"),a("body").addClass("search-widget--is-open"),this.openHandler.hide(),this.closeHandler.show(),this.input.show(),this.input.focus(),this.button.show()},b.prototype.close=function(){this.form.removeClass("is-open"),a("body").removeClass("search-widget--is-open"),this.closeHandler.css("display",""),this.input.css("display",""),this.input.blur(),this.button.css("display",""),this.openHandler.css("display","")},Drupal.behaviors.GentBaseMobileSearch={attach:function(c){a(".small-header .search-widget",c).once("mobile",function(){var a=this,c=new b(a);c.init(),Drupal.gentBase.searchWidget=c})}},a(window).resize(function(){if("function"==typeof Viewport){var c=new Viewport;c.refresh();var d=a(".search-widget");if(d.hasClass("is-open")&&c.get("width")>=Drupal.gentBase.GENT_BASE_BP_MOBILE)if("object"!=typeof Drupal.gentBase.searchWidget)Drupal.gentBase.searchWidget.close();else{var e=new b(d);e.init(),e.close()}}})}(jQuery);