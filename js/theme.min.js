!function(a){function b(){if(j.get("width")>=i){var b=a("#block-system-main .view-mode-full .l-secondary").width();a(".field-group-accordion").width(b)}else a(".field-group-accordion").width("auto")}function c(){var b=a("#page-title"),c=a(".current",b),d=a(".selector",c),e=d.children("ul"),f=a(".title-span",b),g=e.width()/2,h=b.width()-f.width();if(h>=g)e.css("margin-left","-"+g+"px");else{var i=2*g-h;e.css("margin-left","-"+i+"px")}}function d(){var b=a("#page-title .current"),c=a(".selector",b),d=c.children("ul");j.get("width")>=h?(c.addClass("initial"),b.unbind().click(function(){c.removeClass("initial"),d.toggle(),c.hasClass("close")?c.removeClass("close").addClass("open"):c.removeClass("open").addClass("close")})):(b.unbind(),c.removeClass("close open")),j.get("width")<h&&d.hide(),c.hasClass("close")&&j.get("width")>=h&&d.show()}function e(){var b=a(".webform-client-form");if(b.length){var c=a(".node-type-webform .webform-left"),d=a(".sticky-nav",c);j.get("width")>=i?(d.width(c.width()),d.once("sticky-nav").sticky(k.stickyNav.defaults)):(d.width("auto"),a(".node-type-webform .webform-left .sticky-wrapper").height("auto"),d.removeClass("sticky-nav-processed").unstick())}}function f(){var b=a(".webform-client-form");if(b.length){var c=a(".node-type-webform .webform-right"),d=.75*c.width(),e=a(".description",c),f=a(".webform-component",c);j.get("width")>=i?(e.width(d),f.each(function(){var b=a(this).find(".description").height(),c=a(this).find("label").outerHeight(),d=b+c;a(this).css("min-height",d)})):(e.width("auto"),f.css("min-height","auto"))}}function g(){if(j.get("width")>=i){var b=a(".webform-client-form");if(b.length){var c=a(".sticky-nav.sticky-nav-processed",b);if(c.length){var d=a(".webform-component-progressbar-pages"),e=a(e),f=e.height()-d.offset().top-d.height(),g=e.height()-b.offset().top-b.height();f<=g&&(c.css("bottom",g),c.css("top","auto"))}}}}var h=640,i=960,j=new Viewport;"undefined"==typeof a.fn.on&&jQuery.fn.extend({on:jQuery.fn.live}),Drupal.behaviors.gentBaseBehavior={attach:function(b,c){a(".ajax-new-content",b).once("gent-base",function(){f(),g()})}};var k={init:function(){k.lib.init(),k.sticky.init(),k.forms.init(),k.searchThemes.init(),k.equalColumns.init(),k.progressAnimator.init(),k.accordion.init(),k.toggleFieldset.init(),k.addMobileBreadcrumb.init(),k.stickyNav.init()}};k.lib={init:function(){if("undefined"!=typeof a.fn.matchHeight&&(a(".js-height").matchHeight(),a(".js-equal").matchHeight(!1)),"undefined"!=typeof a.fn.masonry){var b=a(".multi-column-items").masonry({itemSelector:"article",columnWidth:".island",isAnimated:!0,gutter:".gutter"});b.imagesLoaded(function(){b.masonry()})}}},k.sticky={init:function(){var b="body > .sticky, body > #admin-menu",c=function(){var c=a(b),d=a("#sticky-wrapper"),e=a("#sticky-spacer"),f=0;c.length&&(d.length||(d=a("<div>").attr("id","sticky-wrapper").css({width:"100%",position:"fixed",top:"0px",left:"0px","z-index":999}),e=a("<div>").attr("id","sticky-spacer"),a("body").prepend(d).prepend(e)),d.append(c.clone().css("position","static")),c.remove(),d.append(d.children().sort(function(a,b){return a=a.className.match(/sticky-(\d+)/)||[0],a=parseInt(a[a.length-1],10),b=b.className.match(/sticky-(\d+)/)||[0],b=parseInt(b[b.length-1],10),a-b}))),d.children().length?(d.children().each(function(){f+=a(this).outerHeight()}),e.css("height",f+"px")):(d.remove(),e.remove())};a(b+", #sticky-wrapper > *").livequery(c,c),c()}},k.forms={init:function(){a(".alert-box").on("click",function(b){b.preventDefault(),a(this).closest(".alert-box").fadeOut(300)})}},k.searchThemes={init:function(){a(".search-filter-theme-title a").click(function(b){b.preventDefault(),a(".facetapi-facet-theme > ul").fadeToggle("fast"),a(this).children("span.icon").toggleClass("icon-arrow-down icon-arrow-up")}),a(".search-filter-toggle-btn").click(function(b){b.preventDefault(),a(".search-filter > div").slideToggle()})}},k.equalColumns={init:function(){var b=0;if(a(window).width()>480){var c=a(".equal-columns .col-equal");c.each(function(){var c=a(this).height();c>b&&(b=c)}),c.height(b)}}},k.progressAnimator={init:function(){a(".progress-indicator").each(function(){var b=a(this).data("percentage"),c=30*b;a(this).animate({width:b+"%"},c,"linear")})}},k.accordion={init:function(){a(".accordion").each(function(){a(".accordion-item-content",this).hide();var b=a(".accordion-item:first",this);b.find(".accordion-item-content").show(),b.addClass("active").find(".accordion-item-title span").toggleClass("icon-arrow-down icon-arrow-up"),a(".accordion-item-title a",this).click(function(b){b.preventDefault();var c=a(this).parents(".accordion-item");c.hasClass("active")?(c.removeClass("active"),c.find(".accordion-item-content").slideUp("slow"),c.find(".accordion-item-title span").toggleClass("icon-arrow-up icon-arrow-down")):(c.addClass("active"),c.find(".accordion-item-content").slideDown("slow"),c.find(".accordion-item-title span").toggleClass("icon-arrow-down icon-arrow-up"))})})}},k.toggleFieldset={init:function(){a("fieldset.collapsible").on("collapsed",function(b){var c=a(this);a(".icon-collapsed, .icon-collapsible",c).remove(),b.value?a(".fieldset-legend",c).append('<span class="icon-collapsed"></span>'):a(".fieldset-legend",c).append('<span class="icon-collapsible"></span>')})}},k.addMobileBreadcrumb={init:function(){var b=a("ul.nav--breadcrumb");b.once("mobile-breadcrumb",function(){var c=a('<select class="nav nav--mobile-breadcrumb" onchange="window.location=this.value;" />'),d=a("li",this);a.each(d,function(b,e){var f=a("a",e).attr("href"),g=new Array(b+1).join("-"),h=g?g+" "+a(e).text():a(e).text(),i=b+1===d.length;"undefined"==typeof f&&i?(f=window.location.href.replace(/^(?:\/\/|[^\/]+)*\//,"/"),c.append('<option value="'+f+'">'+h+"</option>")):"undefined"!=typeof f||i?c.append('<option value="'+f+'">'+h+"</option>"):c.append('<option disabled="disabled">'+h+"</option>")}),c.find("option:last").attr("selected","selected"),b.after(c)})}},k.stickyNav={},k.stickyNav.defaults={topSpacing:20},k.stickyNav.init=function(){a(".sticky-nav").length>0&&a(".sticky-nav").once("sticky-nav",function(){a(this).sticky(k.stickyNav.defaults)})},a(k.init),a(document).ready(function(){j.refresh(),b(),e(),f(),g(),d(),c()}),a(window).resize(function(){j.refresh(),b(),e(),f(),g(),d(),c()}),a(window).scroll(function(){j.refresh(),g()})}(jQuery);