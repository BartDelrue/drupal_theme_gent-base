!function(a){var b={init:function(){b.lib.init(),b.sticky.init(),b.forms.init(),b.searchThemes.init(),b.equalColumns.init(),b.progressAnimator.init(),b.accordion.init(),b.toggleFieldset.init()}};b.lib={init:function(){if("undefined"!=typeof a.fn.matchHeight&&(a(".js-height").matchHeight(),a(".js-equal").matchHeight(!1)),"undefined"!=typeof a.fn.masonry){var b=a(".multi-column-items").masonry({itemSelector:"article",columnWidth:".island",isAnimated:!0,gutter:".gutter"});b.imagesLoaded(function(){b.masonry()})}}},b.sticky={init:function(){var b="body > .sticky, body > #admin-menu",c=function(){var c=a(b),d=a("#sticky-wrapper"),e=a("#sticky-spacer"),f=0;c.length&&(d.length||(d=a("<div>").attr("id","sticky-wrapper").css({width:"100%",position:"fixed",top:"0px",left:"0px","z-index":999}),a("body").prepend(d=a("<div>").attr("id","sticky-wrapper").css({width:"100%",position:"fixed",top:"0px",left:"0px","z-index":999})).prepend(e=a("<div>").attr("id","sticky-spacer"))),d.append(c.clone().css("position","static")),c.remove(),d.append(d.children().sort(function(a,b){return a=a.className.match(/sticky-(\d+)/)||[0],a=parseInt(a[a.length-1],10),b=b.className.match(/sticky-(\d+)/)||[0],b=parseInt(b[b.length-1],10),a-b}))),d.children().length?(d.children().each(function(){f+=a(this).outerHeight()}),e.css("height",f+"px")):(d.remove(),e.remove())};a(b+", #sticky-wrapper > *").livequery(c,c),c()}},b.forms={init:function(){a(".alert-box").on("click",function(b){b.preventDefault(),a(this).closest(".alert-box").fadeOut(300)})}},b.searchThemes={init:function(){a(".search-filter-theme-title a").click(function(b){b.preventDefault(),a(".facetapi-facet-theme > ul").fadeToggle("fast"),a(this).children("span.icon").toggleClass("icon-arrow-down icon-arrow-up")}),a(".search-filter-toggle-btn").click(function(b){b.preventDefault(),a(".search-filter > div").slideToggle()})}},b.equalColumns={init:function(){var b=0;a(window).width()>480&&(a(".equal-columns .col-equal").each(function(){var c=a(this).height();c>b&&(b=c)}),a(".equal-columns .col-equal").height(b))}},b.progressAnimator={init:function(){a(".progress-indicator").each(function(){var b=a(this).data("percentage"),c=30*b;a(this).animate({width:b+"%"},c,"linear")})}},b.accordion={init:function(){a(".accordion").each(function(){a(".accordion-item-content",this).hide();var b=a(".accordion-item:first",this);b.find(".accordion-item-content").show(),b.addClass("active").find(".accordion-item-title span").toggleClass("icon-arrow-down icon-arrow-up"),a(".accordion-item-title a",this).click(function(b){b.preventDefault();var c=a(this).parents(".accordion-item");c.hasClass("active")?(c.removeClass("active"),c.find(".accordion-item-content").slideUp("slow"),c.find(".accordion-item-title span").toggleClass("icon-arrow-up icon-arrow-down")):(c.addClass("active"),c.find(".accordion-item-content").slideDown("slow"),c.find(".accordion-item-title span").toggleClass("icon-arrow-down icon-arrow-up"))})})}},b.toggleFieldset={init:function(){a("fieldset.collapsible").on("collapsed",function(b){var c=a(this);a(".icon-collapsed, .icon-collapsible",c).remove(),b.value?a(".fieldset-legend",c).append('<span class="icon-collapsed"></span>'):a(".fieldset-legend",c).append('<span class="icon-collapsible"></span>')})}},"undefined"==typeof a.fn.on&&jQuery.fn.extend({on:jQuery.fn.live}),a(b.init)}(jQuery);