body.map-fullscreen {
  overflow: hidden;

  a.contextual-links-trigger {
    display: none !important;
  }
}

// External panel container.
//
//

.external-panel-container {
  position: relative;

  fieldset {
    border: none;
    background-color: transparent;

    legend {
      @include text-dimensions(-1, 1, 1);
      padding: 0;
      margin: 20px 0 16px;
      color: $beta-ui-color;
      font-family: $beta-font-family;
      border: none;
    }

    .fieldset-wrapper {
      padding: 0;
    }
  }
}

.openlayers_map_fullscreen {
  .external-panel-container {
    position: fixed;
    z-index: 9999;
    top: 0;
    left: 0;
    width: 0% !important;
    display: none;
    height: 100% !important;

    @include mq($bp-phone-m) {
      width: 40% !important;
      display: block;
    }

    @include mq($bp-tablet-s) {
      width: 30% !important;
      display: block;
    }

    @include mq($bp-tablet-m) {
      width: 25% !important;
      display: block;
    }
  }
}

// External panel.
//
//

.external-panel {
  @include rem-padding-lr(1, 1);

  background-color: $white-color;
  border: 1px solid lighten($gamma-text-color, 10);
  border-radius: $beta-radius;
}

.openlayers_map_fullscreen {
  .external-panel {
    display: block !important;
    height: 100% !important;
    overflow: auto;

    border: none;
    border-right: 1px solid lighten($gamma-text-color, 10);
    border-radius: 0;
  }
}

// External panel - toggle button.
//
//

.external-panel__toggle {
  position: absolute;
  top: -45px;
  height: 46px;
  width: 50px;
  left: 1rem;
  border: 1px solid lighten($gamma-text-color, 10);
  border-bottom: 1px solid $white-color;
  border-top-left-radius: $beta-radius;
  border-top-right-radius: $beta-radius;
  cursor: pointer;

  background-color: $white-color;
  text-indent: -9999px;

  &:before {
    @extend .icon-base-css;
    @extend .icon-checklist:before;

    position: absolute;
    left: 0;
    top: 0;
    z-index: 50;
    text-indent: 0;

    font-size: 1.3 * $alpha-font-size * 1px;
    font-size: 1.3 * 1rem;
    padding: $beta-radius;
  }

  &.collapsed {
    border-bottom: 1px solid lighten($gamma-text-color, 10);
    border-bottom-left-radius: $beta-radius;
    border-bottom-right-radius: $beta-radius;
    top: -55px;
  }
}

.openlayers_map_fullscreen {
  .external-panel__toggle {
    display: none;
    border: none;
    border-top-left-radius: 0;
    border-top-right-radius: 0;

    &.collapsed {
      border-bottom: none;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }
}

// Form elements.
//
//

.openlayers_map {
  .search-address {
    .error {
      @include text-dimensions(1, 1);
      padding-left: 0;
      color: $alpha-text-color;
      font-family: $alpha-font-family;
      border: none;
      font-weight: normal;
    }

    .dym-wrapper {
      @include text-dimensions(1, 1);
      padding-left: 0;
      color: $alpha-text-color;
      font-family: $alpha-font-family;
      border: none;

      p, ul {
        @include text-dimensions(-1, 1);
      }
    }
  }
}

.layer-invisible-description {
  @include text-dimensions(-1, -1, 0, 0.5, 0.5, 1);
  @include rem-padding-lr(1, 1);
  background-color: $beta-text-color;
  color: $white-color;
  border-radius: $radius;
  display: inline-block;
}

// Layers grid.
//
//

/* 1 col */
.layers--default {
  .column {
    width: 100% !important;
  }
}
/* 2 columns */
@include mq($bp-desktop-s) {
  .layers--default {
    .column {
      width: 50% !important;
    }
    &> div {
      -webkit-column-break-inside:avoid;
      -moz-column-break-inside:avoid;
      -o-column-break-inside:avoid;
      -ms-column-break-inside:avoid;
      column-break-inside:avoid;
    }
  }
}

/* fullscreen overrides the x-columns layout and goes back to mobile */
@include mq($bp-desktop-s) {
  .openlayers_map_fullscreen {
    .layers--default {
    .column {
      width: 100% !important;
    }
    }
  }
}

// Layers.
//
//

.layer-wrapper {
  color: $beta-ui-color;
  margin-bottom: 6px;

  label, .label {
    @include text-dimensions(-3, 1, 0, 0, 0, 0);
    font-weight: $beta-font-weight;
  }

  label {
    color: $beta-ui-color;
  }

  .icon-invisible:before {
    @include rem-padding-lr(0.25, 0.25);
    display: none;
    background-color: $beta-text-color;
    color: $white-color;
  }

  &.disabled {
    label {
      color: $gamma-text-color;
    }

    .icon-invisible:before {
      display: inline-block;
    }
  }

  .legend-icon {
    max-width: 24px;
    vertical-align: middle;
  }

  .legend-icon--layer-group {
    display: inline-block;
    background: transparent url('#{$base-theme-path}/img/png/icon-group-layer.png') no-repeat left top;
    width: 24px;
    height: 24px;
    color: $white-color;
    padding-right: 6px;
    font-size: 12px;
    text-align: center;
  }

  .layer__legend__sub {
    padding-left: 34px;
    background: transparent url('#{$base-theme-path}/img/png/vertical-line.png') repeat-y 45px 0;

    label, .label {
      font-weight: normal;
    }
  }

  .layer__legend__sub__item {
    margin: 8px 0;
    position: relative;

    &.first {
      margin-top: 0;
    }
    &.last {
      margin-bottom: 0;
    }
  }
}

// Reset line height for group layers (because we have vertical background line).
.layer__legend__sub {
  line-height: 0;
  img, .label {
    line-height: 0;
  }
}

.olControlScaleLineTop,
.olControlScaleLineBottom {
  color: #000000;
}

// Search OL behavior.
//
//

.openlayers-container .search-address .form-item-address label {
  top: 10px;
}

// Baselayers.
//
//

.openlayers_behavior_baselayerswitcher_plus {
  right: 10px;
  bottom: 0;
}

// Openlayers map.
//
//

.openlayers_map_fullscreen {
  .openlayers-map {
    width: 100% !important;
    left: 0%;

    @include mq($bp-phone-m) {
      width: 60% !important;
      left: 40%;
    }

    @include mq($bp-tablet-s) {
      width: 70% !important;
      left: 30%;
    }

    @include mq($bp-tablet-m) {
      width: 75% !important;
      left: 25%;
    }
  }
}

<<<<<<< HEAD
.olControlPanZoomBar {
  top: 10px !important;
  left: 10px !important;
=======
// Controls: fullscreen.
//
//

.openlayers-container .openlayers_behavior_fullscreen_button_panel {
  right: 0;

  .olButton {
    background: transparent url('#{$base-theme-path}/img/png/box.png') no-repeat 0 0;
    width: 52px;
    height: 52px;
  }

  .olButton:before {
    @extend .icon-base-css;
    @extend .icon-maximize:before;

    position: absolute;
    left: 0;
    top: 0;
    z-index: 50;
    text-indent: 0;

    font-size: 1.3 * $alpha-font-size * 1px;
    font-size: 1.3 * 1rem;
    padding: 10px 13px;
  }
}

.map-fullscreen .openlayers-container {
  .openlayers_behavior_fullscreen_button_panel {
    .olButton {
      background-position: 0 0;
    }

    .olButton:before {
      @extend .icon-minimize:before;
    }
  }
>>>>>>> 8c682fe8fe72aecba58ad27a4ab1ba092d65f0cd
}
