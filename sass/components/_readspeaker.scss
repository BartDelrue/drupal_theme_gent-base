$rs-bg-color                  : #f6f6f6;
$rs-btn-color                 : #2c3f48;
$rs-divider-color             : #ddeaed;
$rs-progressbar-color         : #919da5;
$rs-progressbar-done-color    : #2c3f48;
$rs-progressbar-handle-color  : #f39200;

//
// Icon Font: readspeaker
//

@font-face {
  font-family: "readspeaker";
  src: url("#{$base-theme-path}/fonts/readspeaker.eot");
  src: url("#{$base-theme-path}/fonts/readspeaker.eot?#iefix") format("embedded-opentype"),
       url("#{$base-theme-path}/fonts/readspeaker.woff") format("woff"),
       url("#{$base-theme-path}/fonts/readspeaker.ttf") format("truetype"),
       url("#{$base-theme-path}/fonts/readspeaker.svg#readspeaker") format("svg");
  font-weight: normal;
  font-style: normal;
}

@media screen and (-webkit-min-device-pixel-ratio:0) {
  @font-face {
    font-family: "readspeaker";
    src: url("#{$base-theme-path}/fonts/readspeaker.svg#readspeaker") format("svg");
  }
}

.icon-back:before { content: "\f108"; }
.icon-download:before { content: "\f109"; }
.icon-handle:before { content: "\f10a"; }
.icon-pauze:before { content: "\f10b"; }
.icon-person:before { content: "\f10c"; }
.icon-play:before { content: "\f110"; }
.icon-settings:before { content: "\f10d"; }
.icon-stop:before { content: "\f10e"; }
.icon-volume:before { content: "\f10f"; }

.icon-rs {
  display: inline-block;
  font-family: "readspeaker";
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  line-height: 1;
  text-decoration: inherit;
  text-rendering: optimizeLegibility;
  text-transform: none;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  font-smoothing: antialiased;  
}

// Visually hide the readspeaker icon until the header image comes in.
@include mq($bp-tablet-s, 'max') {
  .readspeaker {
    position: absolute !important;
    clip: rect(1px, 1px, 1px, 1px);
    overflow: hidden;
    height: 1px;
  }
}

.readspeaker {
  position: absolute;
  right: 75px;
  z-index: $z-gamma;
  bottom: 0;
  box-shadow: 0px 0px 21px -21px $dark-color;


  &.v2 {
    top: 0;
    right: 0;
    box-shadow: none;
    bottom: inherit;
    z-index: 0;
    padding: 0 10px;
    background: white;
    background: -moz-linear-gradient(left, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 20px, rgba(255,255,255,1) 100%);
    background: -webkit-linear-gradient(left, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 20px,rgba(255,255,255,1) 100%);
    background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 20px,rgba(255,255,255,1) 100%);

    .rsbtn_gent {
      background: transparent;
      border-radius: inherit;
      padding: 0;
      .rsbutton {
        width: 50px;
        height: 50px;
        line-height: 50px;
      }
      .rsexpanded {
        padding-right: 8px;
        background: transparent;
      }
      .rsbtn_progress_container {
        margin-top: 20px;
      }
    }
  }
}

.rsbtn_gent {
  @extend %clearfix;

  padding-left:8px;
  padding-right: 8px;
  background: $white-color;
  
  &.rsexpanded {
    padding: 0;
    background: $rs-bg-color;
  }

  /************************************************ GENERAL CLASSES */
   a, span {
    position: relative;
    display: block;
    text-decoration: none;
  }
  
  .divider {
    width:1px;
    height:46px;
    background-color: $rs-divider-color;
    margin-top:5px;
  }
  /**
   * All the player elements should float.
   */
  .rspart {
    float: left;
  }
  
  .rsdefloat {
    clear: both;
  }
  
  /**
   * This goes for all buttons
   */
  .rsbutton {
    width: 48px;
    height: 58px;
    margin: 0;
    color:$rs-btn-color;
    fill: currentColor;
    text-align: center;
    vertical-align:middle;
    font-size: 20px;
    line-height: 58px;
    outline: none;
  }
  
  .rsbutton:before {
    @extend .icon-rs;
    color:$rs-btn-color;
    transition: color 0.35s ease;
  }

  .rsbutton:hover:before {
    color:lighten($rs-btn-color, 20);
  }
  
  /**
   * Hide all text labels. They will still be visible to non-CSS browsers
   */
  .rspart .rsbtn_btnlabel {
    display: none;
    font-weight: inherit;
    font-style: inherit;
    font-size: 100%;
    font-family: inherit;
  }
  
  /************************************************ PLAYER BOX */
  .rsbtn_box {
  }
  
  /************************************************ LISTEN BUTTON + ICON */
  .rsbutton.rsbtn_play {
    float: left;
  }
  
  .rsbutton.rsbtn_play:before {
    @extend .icon-person:before;
    margin-right: 16px; // Accomodate for the extra wide icon
  }
  
  &.rsexpanded  .rsbutton.rsbtn_play:before {
    @extend .icon-back:before;
    margin-right: 8px; // Accomodate for the extra wide icon
    margin-left:16px;
  }
  
  /************************************************ EXPANDING AREA */
  .rsbtn_exp.rsimg.rspart {
    background: none;
    float: left;
    display: none;
  }
  
  /**
   * We want the expanding area to be visible only when the player
   * is expanded, hence the .rsexpanded class.
   */
  &.rsexpanded .rsbtn_exp.rsimg {
    display: block;
  }
  
  /************************************************ PLAY/PAUSE BUTTON */
  .rsbutton.rsbtn_pause:before {
    @extend .icon-pauze:before;
  }
  
  &.rsstopped .rsbutton.rsbtn_pause:before {
    @extend .icon-play:before; // @todo choose a play icon
  }
  
  &.rsplaying .rsbutton.rsbtn_pause:before {
    @extend .icon-play:before;
    color: $alpha-ui-color;
  }
  
  /************************************************ STOP BUTTON */
  .rsbutton.rsbtn_stop:before {
    @extend .icon-stop:before;
  }
  
  &.rsstopped .rsbutton.rsbtn_stop:before {
    color: lighten($rs-btn-color, 40);
  }
  
  /************************************************ PROGRESS CONTAINER */
  .rsbtn_progress_container {
    border: 1px solid $rs-progressbar-color;
    width: 110px;
    height: 10px;
    margin-top: 24px;
    margin-left: 16px;
    margin-right: 16px;
    background-color:$rs-progressbar-color;
    border-radius: 3px;
  }
  
  /************************************************ PROGRESS DRAG HANDLE */
  .rsbtn_progress_handle.rsimg {
    @extend .icon-rs;
    
    position: absolute;
    top: -17px;
    left: -17px;
    width: 40px;
    height: 40px;
    
    background-image: url(#{$base-theme-path}/img/png/rs-handle.png);
    background-size: contain;
    background-repeat:none;
    background-color: transparent;
  }

  /************************************************ PROGRESS BAR */
  .rsbtn_progress_played {
    position: absolute;
    height: 100%;
    background-color: $rs-progressbar-done-color;
  }
  
  /************************************************ VOLUME BUTTON */
  .rsbutton.rsbtn_volume:before {
    @extend .icon-volume:before;
  }
  
  /************************************************ VOLUME SLIDER CONTAINER */
  .rsbtn_volume_container {
    position: absolute;
    display: none;
    top: 100%;
    width: 58px;
    height: 100px;
    border: 0;
    background-color: $rs-bg-color;
    z-index:100;
    border-radius: 0 0 $beta-radius $beta-radius; 
    border-top:1px solid $rs-divider-color;
    @include box-shadow(0 3px 7px -3px $dark-color);
  }
  
  /************************************************ VOLUME SLIDER SLIDER AREA */
  .rsbtn_volume_slider {
    width: 12px;
    height: 80px;
    margin: 10px 23px;
    background: $rs-progressbar-color;
    border-radius: 3px;
  }
  
  /************************************************ VOLUME SLIDER SLIDE HANDLE */
  .rsbtn_volume_handle.rsimg {
    position: absolute;
    top: -6px;  
    left: -10px; 
    width: 32px;
    height: 6px;
    background-color: $rs-progressbar-handle-color;
  }
  
  /************************************************ DOWNLOAD BUTTON */
  .rsbutton.rsbtn_dl:before {
    @extend .icon-download:before;
  }
  
  /************************************************ SETTINGS BUTTON */
  .rsbutton.rsbtn_settings:before {
    @extend .icon-settings:before;
  }
  
  /************************************************ CLOSE BUTTON */
  .rsbutton.rsbtn_closer {
    background-color:$white-color;
    width: 64px;
    border-left: 1px solid $rs-divider-color;
    &:before {
      @extend .icon-base-css;
      @extend .icon-close:before;
      font-size: 2.25rem;
      margin-top: 3px;
      margin-left:8px;
      margin-right:16px; // Accomodate for the extra wide icon
    }
  }
  
  /************************************************ POPUP BUTTON */
  /**
   * This is the style of the listen button that popups when the user
   * makes a text selection on the page.
   */
  &.rspopup {
    position: absolute;
    display: none;
    border: 1px solid lighten($alpha-text-color, 40);
    border-radius: $beta-radius;
    background: $rs-bg-color;
    @include box-shadow(0 3px 7px -3px $dark-color);
    
    .divider {
      height:26px;
      margin-top:5px;
    }
    
    .rsbtn_progress_container {
      margin-top:13px;
      width:60px;
    }
    
    .rsbutton {
      width: 32px;
      height: 36px;
      font-size: 18px;
      line-height: 36px;
      
      &.rsbtn_closer {
        background-color:inherit;
      }
      &.rsbtn_play:before {
        margin-right: 11px;
      }
    }
    
    &.rsexpanded {
      .rsbutton.rsbtn_closer {
        margin-right: 11px;
      }
      .rsbtn_play:before {
        margin-left: 6px;
      }
    }
  }
}

#rs_enlargeHL_box {
  font-family: $alpha-font-family;
  font-size: 2em !important;
}

/** Overlay styles, make it all important to override inline RS stuff */
#rslightbox_contentcontainer { 
  @include box-shadow(0 0 21px $dark-color);
  background-color: $gamma-ui-color !important;
  font: $alpha-font-weight $alpha-font-size/16*100%/#{$alpha-line-height} $alpha-font-family;
  -webkit-overflow-scrolling: touch;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;

  @include mq($bp-tablet-l) {
    font-size: $alpha-font-size/16*112.5%;
  }
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizelegibility;
    
  #rslightbox_closer {
    transition: none;
  }
  
  #rslightbox_logo {
    display:none;
  }
  
  #rslightbox_buttons {
    padding:0;
    bottom: 10px;
    margin: 2px 10px;
    background-color: transparent; 
  }
  .rsform-button, #rslightbox_buttons a.rsdialog-button {
    @extend %btn;
    @include btn-m;
    @extend .btn--alpha;
    @include mq($bp-tablet-s) {
      @include btn-inlineblock;
    }
    background-image: none;
  }
  
  #rslightbox_content {
    font-size:inherit; 
    top: 10px;
    background-color: $white-color !important;

    @include border-box;

    color: $alpha-text-color;
  
    h1 {
      @extend .h1;
      margin-bottom: .5rem;
    }
    h2 {
      @extend .h2;
      padding-top: 0;
    }
    
    fieldset {
      border: 0;
      margin-bottom: 0;
      background-color: transparent;
    }
    legend {
      border:0;
      font-weight:bold;
      margin: 0;
      padding: 0;
      background-color: transparent;
    }
    .rsform-section > legend {
      @extend .h2;
      padding-top:.3rem;
    }
    label {
      font-weight:normal;
    }
    
    .rsform-row {
      border-radius: $beta-radius; 
      background-color: $gamma-ui-color;
      @include text-dimensions(0, 1);
    }
    .rsform-info-container {
      @include text-dimensions(0, 1);
    }
    input[type=button] {
      @include text-dimensions(0, 1);
    }
    .rsform-colorlist-style-none,
    .rsform-colorlist-style-underline {
      line-height: .2rem;
    }
  }
}

.large-header .rsbtn_gent {
  border-radius: $beta-radius $beta-radius 0 0;
  .rsbutton {
    border-radius: $beta-radius $beta-radius 0 0;
    &.rsbtn_closer {
      border: none;
      &:before {
        margin-top: 6px;
      }
    }
  }
}

html.svg {
  .rsbtn_progress_handle.rsimg {
    background-image: url(#{$base-theme-path}/img/svg/rs-handle.svg);
  }
}

